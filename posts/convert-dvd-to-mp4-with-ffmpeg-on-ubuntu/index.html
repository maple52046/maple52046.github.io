<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Ubuntu 上使用 ffmpeg 將 DVD 轉成 mp4 - 世界的盡頭</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="FFmpeg 是一套跨平臺開發原始碼的影音轉換軟體。
利用 FFmpeg 我們可以在 Linux 上將 DVD 轉換成 mp4 或是其他格式。
Ubuntu 15.04 以上可以直接以 apt-get 安裝。不過我的平臺是 Ubuntu 14.04。
因此只能通過兩種方式安裝: ppa、手動編譯。
如果要從 PPA 安裝，請參考： https://launchpad.net/~mc3man/&#43;archive/ubuntu/trusty-media
不過我是採用編譯的方式：https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Ubuntu 上使用 ffmpeg 將 DVD 轉成 mp4" />
<meta property="og:description" content="FFmpeg 是一套跨平臺開發原始碼的影音轉換軟體。
利用 FFmpeg 我們可以在 Linux 上將 DVD 轉換成 mp4 或是其他格式。
Ubuntu 15.04 以上可以直接以 apt-get 安裝。不過我的平臺是 Ubuntu 14.04。
因此只能通過兩種方式安裝: ppa、手動編譯。
如果要從 PPA 安裝，請參考： https://launchpad.net/~mc3man/&#43;archive/ubuntu/trusty-media
不過我是採用編譯的方式：https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://maple52046.github.io/posts/convert-dvd-to-mp4-with-ffmpeg-on-ubuntu/" /><meta property="og:image" content="https://maple52046.github.io/site-thumbnail.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-01-23T00:14:00+00:00" />
<meta property="article:modified_time" content="2016-01-23T00:14:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://maple52046.github.io/site-thumbnail.png" /><meta name="twitter:title" content="Ubuntu 上使用 ffmpeg 將 DVD 轉成 mp4"/>
<meta name="twitter:description" content="FFmpeg 是一套跨平臺開發原始碼的影音轉換軟體。
利用 FFmpeg 我們可以在 Linux 上將 DVD 轉換成 mp4 或是其他格式。
Ubuntu 15.04 以上可以直接以 apt-get 安裝。不過我的平臺是 Ubuntu 14.04。
因此只能通過兩種方式安裝: ppa、手動編譯。
如果要從 PPA 安裝，請參考： https://launchpad.net/~mc3man/&#43;archive/ubuntu/trusty-media
不過我是採用編譯的方式：https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu"/>

	
        <link href="https://maple52046.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://maple52046.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://maple52046.github.io">世界的盡頭</a>
	</div>
	<nav>
		
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Ubuntu 上使用 ffmpeg 將 DVD 轉成 mp4</h1>
			<div class="meta">Posted on Jan 23, 2016</div>
		</div>
		

		<section class="body">
			<p><a href="https://www.ffmpeg.org/">FFmpeg</a> 是一套跨平臺開發原始碼的影音轉換軟體。
利用 FFmpeg 我們可以在 Linux 上將 DVD 轉換成 mp4 或是其他格式。</p>
<p>Ubuntu 15.04 以上可以直接以 apt-get 安裝。不過我的平臺是 Ubuntu 14.04。
因此只能通過兩種方式安裝: ppa、手動編譯。</p>
<p>如果要從 PPA 安裝，請參考： <a href="https://launchpad.net/~mc3man/+archive/ubuntu/trusty-media">https://launchpad.net/~mc3man/+archive/ubuntu/trusty-media</a></p>
<p>不過我是採用編譯的方式：https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu</p>
<hr>
<h1 id="install-ffmpeg">Install FFmpeg</h1>
<p>建立資料夾 <code>~/ffmpeg_sources</code> 用來編譯 ffmpeg 與其他相依性軟體</p>
<pre tabindex="0"><code>mkdir -p ~/ffmpeg_sources
</code></pre><p>由於我的實驗環境只有我一個人使用，因此編譯軟體時，我大多設定 <code>prefix</code> 為自己家目錄；
如果想要同時也提供給其他使用者，建議可以將 <code>prefix</code> 設定成 <code>/usr</code>。</p>
<p>另外，如果 <code>prefix</code> 設定成 <code>$HOME</code>，就要將 <code>$HOME/bin</code> 加入到 <code>$PATH</code> 裡面：</p>
<pre tabindex="0"><code>export PATH=&#34;$HOME:$PATH&#34;
</code></pre><ul>
<li>安裝相依性套件</li>
</ul>
<pre tabindex="0"><code>sudo apt-get -y --force-yes install autoconf automake build-essential \
libass-dev libfreetype6-dev libsdl1.2-dev libtheora-dev libtool \
libva-dev libvdpau-dev libvorbis-dev libxcb1-dev libxcb-shm0-dev \
libxcb-xfixes0-dev pkg-config texinfo zlib1g-dev yasm libx264-dev libmp3lame-dev \
libopus-dev
</code></pre><ul>
<li>H.265/HEVC video encoder</li>
</ul>
<pre tabindex="0"><code>sudo apt-get install cmake mercurial
cd ~/ffmpeg_sources
hg clone https://bitbucket.org/multicoreware/x265
cd ~/ffmpeg_sources/x265/build/linux
cmake -G &#34;Unix Makefiles&#34; -DCMAKE_INSTALL_PREFIX=&#34;$HOME&#34; -DENABLE_SHARED:bool=off ../../source
make
make install
</code></pre><ul>
<li>AAC audio encoder</li>
</ul>
<pre tabindex="0"><code>cd ~/ffmpeg_sources
wget -O fdk-aac.tar.gz https://github.com/mstorsjo/fdk-aac/tarball/master
tar xzvf fdk-aac.tar.gz
cd mstorsjo-fdk-aac*
autoreconf -fiv
./configure --prefix=&#34;$HOME&#34; --disable-shared
make
make install
</code></pre><ul>
<li>VP8/VP9 video encoder and decoder</li>
</ul>
<pre tabindex="0"><code>cd ~/ffmpeg_sources
wget http://storage.googleapis.com/downloads.webmproject.org/releases/webm/libvpx-1.5.0.tar.bz2
tar xjvf libvpx-1.5.0.tar.bz2
cd libvpx-1.5.0
./configure --prefix=&#34;$HOME&#34; --disable-examples --disable-unit-tests
make
make install
</code></pre><ul>
<li>Compile and install <strong>FFmpeg</strong></li>
</ul>
<pre tabindex="0"><code>cd ~/ffmpeg_sources
wget http://ffmpeg.org/releases/ffmpeg-snapshot.tar.bz2
tar xjvf ffmpeg-snapshot.tar.bz2
cd ffmpeg
PKG_CONFIG_PATH=&#34;$HOME/lib/pkgconfig&#34; ./configure \
  --prefix=&#34;$HOME&#34; \
  --pkg-config-flags=&#34;--static&#34; \
  --extra-cflags=&#34;-I$HOME/include&#34; \
  --extra-ldflags=&#34;-L$HOME/lib&#34; \
  --bindir=&#34;$HOME/bin&#34; \
  --enable-gpl \
  --enable-libass \
  --enable-libfdk-aac \
  --enable-libfreetype \
  --enable-libmp3lame \
  --enable-libopus \
  --enable-libtheora \
  --enable-libvorbis \
  --enable-libvpx \
  --enable-libx264 \
  --enable-libx265 \
  --enable-nonfree
make
make install
</code></pre><p>編譯完之後，就可以將編譯用的臨時資料夾刪除</p>
<pre tabindex="0"><code>sudo rm -rf ~/ffmpeg_sources
</code></pre><hr>
<h1 id="convert-dvd-to-mp4">Convert DVD to MP4</h1>
<p>接下來，先將 DVD 光碟片放入光碟機中，然後掛載起來：</p>
<pre tabindex="0"><code>sudo mount /dev/sr0 /mnt
</code></pre><p>讀取 VOB 檔進行轉換：</p>
<pre tabindex="0"><code>cd /mnt/
cat VTS_01_*.VOB | ffmpeg -i - -aq 100 -ac 2 -vcodec libx264 -crf 24 -threads 0 ~/VTS_01.mp4
</code></pre><p>利用 <code>cat</code> 加上正規表示法，將多個 VOB 檔依序丟給 ffmpeg，轉換後的影片會自動合併成一個 video 檔。
(檔案名稱與路徑請自行更換)</p>
<p>FFmpeg 真的是非常好用又強大呀!!!</p>
<hr>
<p>Reference:</p>
<ul>
<li><a href="https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu">Compile FFmpeg on Ubuntu, Debian, or Mint</a></li>
<li><a href="http://ubuntuforums.org/showthread.php?t=1564791">FFmpeg script for DVD to mp4</a></li>
</ul>
		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/ffmpeg">ffmpeg</a></li>
					
					<li><a href="/tags/ubuntu">ubuntu</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"></div>
  <div class="footer-info">
    2024  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-GC1G5TJVGY', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</div>
    </body>
</html>
